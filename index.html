<!DOCTYPE html>
<html><head><title>Tarkista onko tietosi vuodettujen listalla</title>
<!--
Tekijä: Juha-Jarmo Heinonen
Tätä esimerkkiä saa soveltaa vapaasti.
-->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" >
<script src="checksums.js"></script>
<script src="webtoolkit.sha1.js"></script>
<script>
function alustus(){
  var
  hetu = document.getElementById('hetu'),
  found = document.getElementById('found'),
  laske = function(){
    if ( hetu.value.length === 11 ){
      if ( hetusums.indexOf( SHA1(hetu.value.toLowerCase()) ) !== -1 ) {
        found.style.color = '#f00';
        found.innerText = 'Syötetty henkilötunnus on vuodettu.'
      }
      else {
        found.style.color = '#090';
        found.innerText = 'Syötettyä henkilötunnusta ei ole vuodettu.'
      }
    }
    else {
      found.style.color = '#00f';
      found.innerText = 'Syöte ei ole henkilötunnus.'
    }
  };
  laske();
  document.onkeyup = laske;
}
</script>
</head><body>
<fieldset>
  <legend>Tämä sovellus tarkistaa onko henkilötunnuksesi vuodettujen joukossa. Syöttämääsi tunnusta ei lähetetä minnekään.</legend>
  Henkilötunnus: <input id="hetu" type="text" /><br />
  Tulos: <strong id="found" /></strong><br />
  <em>Tekstikentän kirjainkoolla ei ole merkitystä.</em>
</fieldset>
<script>
alustus();
</script>
</body></html>
